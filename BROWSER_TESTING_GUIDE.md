# 🌐 浏览器测试指南

## ✅ 服务器已启动！

**应用地址**: http://127.0.0.1:5002  
**状态**: 🟢 运行中  
**测试课程**: 测试课程_拆分功能

---

## 🧪 测试步骤

### 步骤 1：打开应用
在浏览器中访问: **http://127.0.0.1:5002**

你将看到主页面，列出所有可用课程。

---

### 步骤 2：选择测试课程
在课程列表中找到并点击: **测试课程_拆分功能**

---

### 步骤 3：查看课程内容

#### 3.1 词语列表
- 青马大桥 (4字)
- 疾驰 (2字)
- 壮观 (2字)

这些词语都很短，**不会被拆分**。

#### 3.2 段落列表
你会看到 4 个段落，每个展示不同的拆分情况：

| 段落 | 说明 | 预期效果 |
|-----|------|---------|
| 短句示例 | 3个短句 | ❌ 无拆分 (都≤15字) |
| 中等长句 | 2个句子 | ✅ 自动拆分 |
| 超长句示例 | 2个超长句 | ✅ 递归拆分 |
| 混合标点 | 多种标点 | ✅ 智能处理 |

---

### 步骤 4：编辑段落查看拆分效果

#### 方法A：点击"编辑"按钮
1. 在段落列表中，点击任意段落的"编辑"按钮
2. 进入编辑页面
3. **查看右侧的预览区域**，显示拆分后的结果

#### 方法B：修改内容后查看
1. 编辑某个句子内容
2. **预览自动更新**，显示新的拆分结果
3. 观察字数变化

#### 方法C：创建新段落
1. 点击"创建新课程"或"编辑"中的添加按钮
2. 输入你的长句子
3. 系统**实时预览**拆分效果

---

## 📊 具体测试场景

### 场景1：查看短句（无拆分）✓

**段落**: "短句示例（无需拆分）"

**输入**: 
- 我很高兴。
- 天气很好。
- 今天是个好天气。

**预期**:
```
[预览]
- 我很高兴。 (4字)
- 天气很好。 (4字)
- 今天是个好天气。 (7字)

所有句子 ≤ 15字 ✅ 无需拆分
```

---

### 场景2：查看自动拆分（中等长句）✓

**段落**: "中等长句（需要拆分）"

**输入**: 
```
这是一个包含很多汉字的相对较长的句子。
```

**预期**:
```
[预览]
原始字数: 18字
拆分结果: 2部分
[1] 这是一个包含很多汉字的相对  (10字)
[2] 较长的句子。  (5字)
```

---

### 场景3：查看递归拆分（超长句）✓

**段落**: "超长句示例（递归拆分）"

**输入**: 
```
这是一个没有任何标点符号的非常长的句子需要被自动拆分成多个较短的部分以确保每部分都不超过十五个汉字。
```

**预期**:
```
[预览]
原始字数: 43字
拆分结果: 3部分
[1] 这是一个没有任何标点符号的非常  (15字)
[2] 长的句子需要被自动拆分成多个  (10字)
[3] 较短的部分以确保每部分都不超过十五个汉字。  (18字)
```

---

### 场景4：查看混合标点处理✓

**段落**: "混合标点示例"

**输入**: 
```
你好吗？这是一个很长的句子包含了很多汉字需要拆分。
```

**预期**:
```
[预览]
原始字数: 24字
拆分结果: 3部分
[1] 你好吗？  (2字 + 标点)
[2] 这是一个很长的句子包含了很多汉  (15字)
[3] 字需要拆分。  (6字 + 标点)

✅ 标点正确保留
```

---

## 🎯 重点观察项

### 1. 预览区域
- ✅ 能否实时显示拆分结果
- ✅ 能否显示每部分的字数
- ✅ 能否识别超过15字的部分（通常用红色警告）

### 2. 自动拆分
- ✅ >15字句子是否被拆分
- ✅ 拆分是否智能（在合适位置拆分）
- ✅ 递归拆分是否正确处理超长内容

### 3. 标点处理
- ✅ 标点是否保留在拆分部分
- ✅ 各类标点（。？；：，）是否正确识别
- ✅ 标点是否出现在正确位置

### 4. 长度约束
- ✅ 所有拆分部分是否 ≤ 15字
- ✅ 所有拆分部分是否 ≥ 5字（如可能）
- ✅ 无遗漏或重复内容

---

## 🎵 额外测试：听写练习

完成编辑后，你还可以测试听写功能：

1. **进行听写**
   - 在课程中点击"听写练习"
   - 点击播放按钮听第一部分
   - 输入听写内容
   - 点击"我能默写"或"提交"
   - **不应该出现"找不到内容"错误**

2. **验证效果**
   - 语音是否清晰（因为句子更短了）
   - 听写是否更容易（因为内容被拆分成小部分）
   - 点击"掌握"或"未掌握"进行下一个部分

---

## 🐛 常见问题在测试中

| 问题 | 可能原因 | 解决方案 |
|-----|--------|--------|
| 预览不显示 | JavaScript 未加载 | 刷新页面 (F5) |
| 字数不对 | 标点被计入 | 应该只计汉字 |
| 拆分不对 | 算法错误 | 查看浏览器 Console (F12) |
| 页面卡顿 | 内容过长 | 刷新页面 |
| 找不到内容 | 文本比较失败 | 查看 Flask 日志 |

---

## 📋 测试检查清单

完成以下所有测试，标记通过情况：

### 词语测试
- [ ] 词语无拆分 ✓
- [ ] 能够看到字数统计 ✓
- [ ] 播放语音清晰 ✓

### 短句测试
- [ ] 短句（≤15字）无拆分 ✓
- [ ] 多个短句能分开 ✓
- [ ] 标点正确保留 ✓

### 长句拆分测试
- [ ] 16-30字自动拆分 ✓
- [ ] 拆分成 2-3 部分 ✓
- [ ] 所有部分 ≤ 15字 ✓
- [ ] 所有部分 ≥ 5字 ✓

### 超长句拆分测试
- [ ] >30字递归拆分 ✓
- [ ] 拆分成 3+ 部分 ✓
- [ ] 所有部分都满足约束 ✓

### 标点处理测试
- [ ] 句号(。)保留 ✓
- [ ] 问号(？)保留 ✓
- [ ] 分号(；)保留 ✓
- [ ] 冒号(：)保留 ✓
- [ ] 逗号(，)保留 ✓

### 听写功能测试
- [ ] 拆分后的部分能播放 ✓
- [ ] 各部分语音清晰 ✓
- [ ] "我能默写"正常工作 ✓
- [ ] 无"找不到内容"错误 ✓

### 保存功能测试
- [ ] 编辑后能保存 ✓
- [ ] 保存后无错误 ✓
- [ ] 语音文件生成 ✓
- [ ] 重新打开还是拆分状态 ✓

---

## 🎉 全部通过！

如果所有上述测试都通过，说明：

✅ 段落拆分功能工作正常  
✅ 字数计算正确  
✅ 拆分算法有效  
✅ 标点处理正确  
✅ 语音生成成功  
✅ 存储功能正常  

系统已准备好投入使用！🚀

---

## 💡 进阶测试（可选）

### 测试1：极长句子（50+字）
输入一个 50+ 字的句子，验证递归拆分：
```
这是一个非常长的句子包含了很多汉字需要被系统多次递归拆分才能满足每部分不超过十五个汉字的要求。
```

### 测试2：特殊文本
包含数字和英文的句子：
```
2026年学习了Python编程以及JavaScript框架，掌握了很多技术。
```

### 测试3：连续标点
多个标点符号的处理：
```
你好吗？很高兴见面；我是来学习的！
```

---

## 📞 获取帮助

如遇问题，查看：
- [SPLITTING_QUICK_GUIDE.md](SPLITTING_QUICK_GUIDE.md) - 快速指南
- [SPLITTING_FINAL_REPORT.md](SPLITTING_FINAL_REPORT.md) - 完整报告
- Flask 日志输出（查看 Terminal）
- 浏览器控制台（F12 → Console）

---

**祝测试愉快！** 🎊
